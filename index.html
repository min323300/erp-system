<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€ì‹œë³´ë“œ - ê±°ë˜ëª…ì„¸ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <nav class="navbar">
            <div class="nav-brand">
                <a href="index.html">ê±°ë˜ëª…ì„¸ ê´€ë¦¬ ì‹œìŠ¤í…œ</a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="active">ëŒ€ì‹œë³´ë“œ</a></li>
                <li><a href="sales.html">íŒë§¤</a></li>
                <li><a href="purchase.html">ì…ê³ </a></li>
                <li><a href="inventory.html">ì¬ê³ </a></li>
                <li><a href="accounting.html">íšŒê³„</a></li>
                <li><a href="settings.html">ì„¤ì •</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <div class="page-header">
                <h1 class="page-title">ëŒ€ì‹œë³´ë“œ</h1>
            </div>

            <div class="dashboard-grid">
                <div class="card stat-card">
                    <div class="stat-icon" style="background: #e3f2fd;">ğŸ“Š</div>
                    <div class="stat-content">
                        <div class="stat-label">ì´ë²ˆ ë‹¬ ë§¤ì¶œ</div>
                        <div class="stat-value" id="monthly-sales">0ì›</div>
                    </div>
                </div>

                <div class="card stat-card">
                    <div class="stat-icon" style="background: #f3e5f5;">ğŸ’°</div>
                    <div class="stat-content">
                        <div class="stat-label">ì´ë²ˆ ë‹¬ ì´ìµ</div>
                        <div class="stat-value" id="monthly-profit">0ì›</div>
                    </div>
                </div>

                <div class="card stat-card">
                    <div class="stat-icon" style="background: #fff3e0;">âš ï¸</div>
                    <div class="stat-content">
                        <div class="stat-label">ì´ ë¯¸ìˆ˜ê¸ˆ</div>
                        <div class="stat-value" id="total-receivables">0ì›</div>
                    </div>
                </div>

                <div class="card stat-card">
                    <div class="stat-icon" style="background: #ffebee;">ğŸ“¦</div>
                    <div class="stat-content">
                        <div class="stat-label">ì¬ê³  ë¶€ì¡± í’ˆëª©</div>
                        <div class="stat-value" id="low-stock">0ê°œ</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>ë¹ ë¥¸ ì‹œì‘</h2>
                <div class="quick-actions">
                    <a href="sales.html" class="btn btn-primary">ğŸ“Š íŒë§¤ ë“±ë¡</a>
                    <a href="purchase.html" class="btn btn-secondary">ğŸ“¥ ì…ê³  ë“±ë¡</a>
                    <a href="settings.html" class="btn btn-secondary">âš™ï¸ ì—…ì²´ ê´€ë¦¬</a>
                    <a href="settings.html" class="btn btn-secondary">ğŸ·ï¸ í’ˆëª© ê´€ë¦¬</a>
                </div>
            </div>
        </main>
    </div>

    <script src="api.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            await loadDashboard();
        });

        async function loadDashboard() {
            try {
                const result = await getDashboard();
                
                if (result.success) {
                    document.getElementById('monthly-sales').textContent = formatCurrency(result.data.monthlySales);
                    document.getElementById('monthly-profit').textContent = formatCurrency(result.data.monthlyProfit);
                    document.getElementById('total-receivables').textContent = formatCurrency(result.data.totalReceivables);
                    document.getElementById('low-stock').textContent = result.data.lowStockItems + 'ê°œ';
                }
            } catch (error) {
                console.error('ëŒ€ì‹œë³´ë“œ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }
    </script>
</body>
</html>
